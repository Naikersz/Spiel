[gd_scene load_steps=58 format=3 uid="uid://deape0t56pm74"]

[ext_resource type="Script" uid="uid://cc0ryny1ixirm" path="res://main.gd" id="1_lquwl"]
[ext_resource type="Script" uid="uid://dmmf6yacjdvqx" path="res://Player.gd" id="2_7mycd"]
[ext_resource type="PackedScene" uid="uid://c5l0aej3cgpyr" path="res://levels/level_town.tscn" id="4_5vw27"]
[ext_resource type="Texture2D" uid="uid://lellt15rdsej" path="res://art/characters/head/heads/human/male/headMale.png" id="4_7mycd"]
[ext_resource type="SpriteFrames" uid="uid://b0qtqxg0e24br" path="res://frames/body_frames.tres" id="5_5vw27"]
[ext_resource type="Script" uid="uid://xqdehdhsl7s0" path="res://levels/level_town.gd" id="5_kek77"]
[ext_resource type="SpriteFrames" uid="uid://d2rxukcvsvobb" path="res://frames/hat_leather.tres" id="7_5vw27"]
[ext_resource type="SpriteFrames" uid="uid://chmqrrjbtobhb" path="res://frames/leather_armor.tres" id="8_5vw27"]
[ext_resource type="Shader" uid="uid://bmjhur8bs7mo1" path="res://main.gdshader" id="8_82xsv"]
[ext_resource type="Script" uid="uid://cac3w7dewvs57" path="res://color_rect.gd" id="9_82xsv"]
[ext_resource type="SpriteFrames" uid="uid://b8haqka8j8bc8" path="res://frames/pants_leather.tres" id="9_kek77"]
[ext_resource type="SpriteFrames" uid="uid://bumb6pnq36blb" path="res://frames/gloves_leather.tres" id="10_4c57u"]
[ext_resource type="SpriteFrames" uid="uid://ctu1vc2qwlpbf" path="res://frames/boots_leather.tres" id="11_efxa6"]
[ext_resource type="SpriteFrames" uid="uid://dn7m34g132c2b" path="res://frames/cuffs_leather.tres" id="12_dg77c"]
[ext_resource type="SpriteFrames" uid="uid://df6fcb24tn5il" path="res://frames/mantal_leather.tres" id="13_ycdy4"]
[ext_resource type="Script" uid="uid://bv0hk5invoswk" path="res://dungeon_root.gd" id="17_getpj"]
[ext_resource type="Script" uid="uid://dwoate7hmcuok" path="res://camera_2d.gd" id="17_yaehf"]
[ext_resource type="TileSet" uid="uid://c3cnbklx2xj5b" path="res://Tilesett.tres" id="18_074og"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_yaehf"]

[sub_resource type="AtlasTexture" id="AtlasTexture_272bh"]
atlas = ExtResource("4_7mycd")
region = Rect2(0, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5vw27"]
atlas = ExtResource("4_7mycd")
region = Rect2(64, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kek77"]
atlas = ExtResource("4_7mycd")
region = Rect2(128, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xuqvo"]
atlas = ExtResource("4_7mycd")
region = Rect2(192, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qsp4k"]
atlas = ExtResource("4_7mycd")
region = Rect2(256, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kq58d"]
atlas = ExtResource("4_7mycd")
region = Rect2(320, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_seu75"]
atlas = ExtResource("4_7mycd")
region = Rect2(384, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_htxhm"]
atlas = ExtResource("4_7mycd")
region = Rect2(448, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jq2sk"]
atlas = ExtResource("4_7mycd")
region = Rect2(512, 640, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4k2k6"]
atlas = ExtResource("4_7mycd")
region = Rect2(0, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0rl1p"]
atlas = ExtResource("4_7mycd")
region = Rect2(64, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ok6jj"]
atlas = ExtResource("4_7mycd")
region = Rect2(128, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qnost"]
atlas = ExtResource("4_7mycd")
region = Rect2(192, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wnkbs"]
atlas = ExtResource("4_7mycd")
region = Rect2(256, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_f6a44"]
atlas = ExtResource("4_7mycd")
region = Rect2(320, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0cbny"]
atlas = ExtResource("4_7mycd")
region = Rect2(384, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hrvbo"]
atlas = ExtResource("4_7mycd")
region = Rect2(448, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uypp3"]
atlas = ExtResource("4_7mycd")
region = Rect2(512, 576, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_blkrb"]
atlas = ExtResource("4_7mycd")
region = Rect2(0, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_abqjc"]
atlas = ExtResource("4_7mycd")
region = Rect2(64, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6iyjs"]
atlas = ExtResource("4_7mycd")
region = Rect2(128, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4w656"]
atlas = ExtResource("4_7mycd")
region = Rect2(192, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_e71vb"]
atlas = ExtResource("4_7mycd")
region = Rect2(256, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rnkwl"]
atlas = ExtResource("4_7mycd")
region = Rect2(320, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_vke2r"]
atlas = ExtResource("4_7mycd")
region = Rect2(384, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uit24"]
atlas = ExtResource("4_7mycd")
region = Rect2(448, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ruth0"]
atlas = ExtResource("4_7mycd")
region = Rect2(512, 704, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rm4vd"]
atlas = ExtResource("4_7mycd")
region = Rect2(0, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_pjyto"]
atlas = ExtResource("4_7mycd")
region = Rect2(64, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_sm6fg"]
atlas = ExtResource("4_7mycd")
region = Rect2(128, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_b17eg"]
atlas = ExtResource("4_7mycd")
region = Rect2(192, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ntx8l"]
atlas = ExtResource("4_7mycd")
region = Rect2(256, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uatky"]
atlas = ExtResource("4_7mycd")
region = Rect2(320, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rqtf5"]
atlas = ExtResource("4_7mycd")
region = Rect2(384, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1vm84"]
atlas = ExtResource("4_7mycd")
region = Rect2(448, 512, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wu3dr"]
atlas = ExtResource("4_7mycd")
region = Rect2(512, 512, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_phcyf"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_272bh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vw27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kek77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xuqvo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qsp4k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kq58d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_seu75")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_htxhm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jq2sk")
}],
"loop": true,
"name": &"idle_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4k2k6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0rl1p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ok6jj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qnost")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wnkbs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f6a44")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0cbny")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hrvbo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uypp3")
}],
"loop": true,
"name": &"idle_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_blkrb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_abqjc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6iyjs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4w656")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e71vb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rnkwl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vke2r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uit24")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ruth0")
}],
"loop": true,
"name": &"idle_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rm4vd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pjyto")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sm6fg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b17eg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ntx8l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uatky")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rqtf5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1vm84")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wu3dr")
}],
"loop": true,
"name": &"idle_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_272bh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5vw27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kek77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xuqvo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qsp4k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kq58d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_seu75")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_htxhm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jq2sk")
}],
"loop": true,
"name": &"walk_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4k2k6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0rl1p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ok6jj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qnost")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wnkbs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f6a44")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0cbny")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hrvbo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uypp3")
}],
"loop": true,
"name": &"walk_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_blkrb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_abqjc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6iyjs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4w656")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e71vb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rnkwl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vke2r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uit24")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ruth0")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rm4vd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pjyto")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sm6fg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b17eg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ntx8l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uatky")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rqtf5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1vm84")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wu3dr")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cegan"]
shader = ExtResource("8_82xsv")
shader_parameter/fog_strength = 1.2
shader_parameter/fog_color = Vector3(0, 0, 0)

[node name="main" type="Node2D"]
script = ExtResource("1_lquwl")

[node name="LevelTown" parent="." instance=ExtResource("4_5vw27")]
script = ExtResource("5_kek77")

[node name="Camera2D" type="Camera2D" parent="LevelTown"]

[node name="CanvasLayer" type="CanvasLayer" parent="LevelTown/Camera2D"]

[node name="UI" type="Control" parent="LevelTown/Camera2D/CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="HPBar" type="ProgressBar" parent="LevelTown/Camera2D/CanvasLayer/UI"]
layout_mode = 0
offset_right = 4.0
offset_bottom = 27.0

[node name="RotateButton" type="Button" parent="LevelTown/Camera2D/CanvasLayer/UI"]
layout_mode = 0
offset_right = 8.0
offset_bottom = 8.0

[node name="Player" type="CharacterBody2D" parent="LevelTown"]
z_index = 1
collision_layer = 2
script = ExtResource("2_7mycd")

[node name="CollisionShape2D" type="CollisionShape2D" parent="LevelTown/Player"]
shape = SubResource("CapsuleShape2D_yaehf")

[node name="Graphics" type="Node2D" parent="LevelTown/Player"]

[node name="Body" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
y_sort_enabled = true
sprite_frames = ExtResource("5_5vw27")
animation = &"walk_down"
frame = 7
frame_progress = 0.38893443

[node name="Head" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 7
y_sort_enabled = true
sprite_frames = SubResource("SpriteFrames_phcyf")
animation = &"idle_up"

[node name="HatLeather" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 8
y_sort_enabled = true
sprite_frames = ExtResource("7_5vw27")
animation = &"idle_down"

[node name="ArmorLeather" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 3
y_sort_enabled = true
sprite_frames = ExtResource("8_5vw27")
animation = &"idle_up"

[node name="PantsLeather" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 1
sprite_frames = ExtResource("9_kek77")
animation = &"walk_up"

[node name="GlovesLeather" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 5
sprite_frames = ExtResource("10_4c57u")
animation = &"walk_up"

[node name="BootsLeather" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 2
sprite_frames = ExtResource("11_efxa6")
animation = &"walk_up"

[node name="CuffsLeather" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 4
sprite_frames = ExtResource("12_dg77c")
animation = &"idle_down"

[node name="MantalLeather" type="AnimatedSprite2D" parent="LevelTown/Player/Graphics"]
z_index = 6
sprite_frames = ExtResource("13_ycdy4")
animation = &"walk_right"

[node name="Camera2D" type="Camera2D" parent="LevelTown/Player"]
script = ExtResource("17_yaehf")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
z_index = 10
material = SubResource("ShaderMaterial_cegan")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 1459.0
offset_top = -1367.0
offset_right = 1480.0
offset_bottom = -1274.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0.003921569, 0.003921569, 0.003921569, 0.003921569)
script = ExtResource("9_82xsv")

[node name="DungeonRoot" type="Node2D" parent="."]
y_sort_enabled = true
script = ExtResource("17_getpj")

[node name="TileMapFloor" type="TileMap" parent="DungeonRoot"]
y_sort_enabled = true
tile_set = ExtResource("18_074og")
format = 2

[node name="FloorLayer" type="TileMapLayer" parent="DungeonRoot/TileMapFloor"]
tile_set = ExtResource("18_074og")

[node name="WallLayer" type="TileMapLayer" parent="DungeonRoot/TileMapFloor"]
z_index = 1
tile_set = ExtResource("18_074og")

[node name="TopLayer" type="TileMapLayer" parent="DungeonRoot/TileMapFloor"]
z_index = 2
y_sort_enabled = true
tile_set = ExtResource("18_074og")
y_sort_origin = 8
